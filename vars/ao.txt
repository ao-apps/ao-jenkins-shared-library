Variables that may be defined in the header of Jenkinsfile:

deployJdk

    The version of JDK that will be used for the deploy stage.
    Defaults to '21'

buildJdks

    The array of JDK versions that will build.
    Defaults to ['11', '17', '21']
    Changes must be copied to matrix axes!

testJdks

    The array of JDK versions that will test against every build JDK.
    Defaults to ['11', '17', '21']
    Changes must be copied to matrix axes!

upstreamProjects

    The array of relative paths to upstream projects.
    Defaults to []

projectDir

    The directory within the workspace containing the Maven project.
    Default depends on the path of Jenkinsfile:
        'Jenkinsfile'       -> '.'
        'book/Jenkinsfile'  -> 'book'
        'devel/Jenkinsfile' -> 'devel'

disableSubmodules

    Disables checkout of Git submodules.
    Defaults to true

sparseCheckoutPaths

    The sparse paths for Git checkout.
    Default depends on projectDir:
        '.'     -> [[path:'/*'],
                    [path:'!/book/'],
                    [path:'/book/pom.xml'],
                    [path:'!/devel/']]
        'book'  -> [[path:'/.gitignore'],
                    [path:'/.gitmodules'],
                    [path:'/book/']]
        'devel' -> [[path:'/.gitignore'],
                    [path:'/.gitmodules'],
                    [path:'/devel/']]

scmUrl

    The Git URL.
    Default depends on the project's SCM settings:
        scm.userRemoteConfigs[0].url

scmBranch

    The Git branch name, without and ref/path prefix
    Default depends on the project's SCM settings:
        scm.branches[0].name: 'refs/heads/*' -> '*'

scmBrowser

    The Git SCM browser URL.
    Default depends on scmUrl:
        '/srv/git/ao-apps/*' -> 'https://github.com/ao-apps/*'
        '/srv/git/nmwoss/*'  -> 'https://github.com/newmediaworks/*'
        '/srv/git/*'         -> No default

buildPriority

    The build job priority from 1 to 30 (lower is build first).
    Defaults to the depth in the upstreamProjects dependency graph.

quietPeriod

    The time to delay between queuing job and starting build.
    Default depends on buildPriority:
        10 + buildPriority * 2

nice

    The nice level to run the build processes or 0 for none.
    Default depends on params.BuildPriority:
        min(19, params.BuildPriority - 1)

maven

    The Maven tool to use.
    Defaults to 'maven-3'

mavenOpts

    The Maven Java options.
    Defaults to '-Djansi.force' for colorful logs

extraProfiles

    An array of additional profiles to pass to Maven.
    Defaults to []

testWhenExpression

   A closure determining when to run tests.
   Defaults to {return fileExists(projectDir + '/src/test')}

sonarqubeEnabledExpression

    A closure determining when SonarQube analysis is enabled.
    Defaults to {
        return !fileExists(
            projectDir + '/.github/workflows/build.yml'
        )
    }

sonarqubeWhenExpression

    A closure determining when to perform SonarQube analysis.
    The default requires SonarQube enabled (see sonarqubeEnabledExpression above).
    Furthermore, requires at least one of the following conditions:
        1) analysis has not yet been performed
        2) last analysis time is in the future (system clock change detected)
        3) last analysis time was 6 days ago or longer
        4) any file has been changed since the last analysis

failureEmailTo

    The recipient of build failure emails.
    Defaults to 'support@aoindustries.com'
